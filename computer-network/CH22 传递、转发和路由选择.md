CH22 ä¼ é€’ã€è½¬å‘å’Œè·¯ç”±é€‰æ‹©

1. è½¬å‘æŠ€æœ¯ä¸è½¬å‘è¿‡ç¨‹
1. è·¯ç”±è¡¨ã€åœ°å€èšåˆå’Œæœ€é•¿æ©ç åŒ¹é…
1. Dijkstra*ç®—æ³•å’Œ*Bellman-Ford* ç®—æ³•
1. å•æ’­è·¯ç”±åè®®ï¼š*AS*çš„æ¦‚å¿µã€åŸŸå†…ã€åŸŸé—´è·¯ç”±é€‰æ‹©åè®®
1. *RIP*åè®®è·¯ç”±è¡¨ç”Ÿæˆçš„è¿‡ç¨‹
1. *OSPF*åè®®çš„åŸç†
1. å¤šæ’­çš„æ¦‚å¿µå’Œå¤šæ’­è·¯ç”±ï¼ˆäº†è§£ï¼‰

![å‰‘é£ä¼ å¥‡1](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/39e859a53558689214a12d39ca6af359-%E5%89%91%E9%A3%8E%E4%BC%A0%E5%A5%871-60f3a8.jpeg)

## ä¼ é€’

ç½‘ç»œå±‚è´Ÿè´£ç”¨åº•å±‚ç‰©ç†ç½‘0ç»œå¤„ç†åˆ†ç»„ï¼Œå®šä¹‰è¿™ç§å¤„ç†ä¸ºåˆ†ç»„çš„ä¼ é€’

![image-20211228092825252](/Users/xinwuyun/Library/Application Support/typora-user-images/image-20211228092825252.png)

+ ç›´æ¥ä¼ é€’direct deliveryï¼šåˆ†ç»„æœ€ç»ˆ**ç›®çš„ç«¯ä¸»æœºæ˜¯ä¸å‘é€æ–¹è¿æ¥åœ¨åŒä¸€ä¸ªç‰©ç†ç½‘ç»œ**ä¸Šã€‚å½“åˆ†ç»„çš„æºç«¯å’Œç›®çš„ç«¯éƒ½åœ¨åŒä¸€ç‰©ç†ç½‘ç»œä¸Šï¼Œæˆ–ä¼ é€’æ˜¯åœ¨**æœ€åä¸€ä¸ªè·¯ç”±å™¨ä¸ç›®çš„ä¸»æœº**ä¹‹é—´è¿›è¡Œæ—¶ï¼Œå°±å‡ºç°ç›´æ¥ä¼ é€’
+ é—´æ¥ä¼ é€’indirect deliveryï¼šç›®çš„ä¸»æœºä¸å‘é€æ–¹ä¸åœ¨åŒä¸€ä¸ªç½‘ç»œ

> æœ€åçš„ä¼ é€’æ€»æ˜¯ç›´æ¥ä¼ é€’

> åˆ¤åˆ«æ–¹æ³•ï¼šæå–å‡ºç›®çš„ç«¯çš„ç½‘ç»œåœ°å€ä¸å®ƒæ‰€è¿æ¥çš„ç½‘ç»œåœ°å€è¿›è¡Œæ¯”è¾ƒï¼Œç›¸åŒåˆ™ä¼ é€’æ˜¯ç›´æ¥çš„



## è½¬å‘

åˆ†ç»„è·¯ç”±åˆ°å®ƒçš„ç›®çš„ç«¯ï¼Œè½¬å‘è¦æ±‚ä¸»æœºæˆ–è·¯ç”±å™¨ç”±ä¸€ä¸ªè·¯ç”±è¡¨ã€‚å½“ä¸»æœºæœ‰åˆ†ç»„è¦å‘é€æ—¶ï¼Œ æˆ–æ˜¯è·¯ç”±å™¨æ”¶åˆ°ä¸€ä¸ªåˆ†ç»„è¦è½¬å‘æ—¶ï¼Œå°±è¦æŸ¥æ‰¾è·¯ç”±è¡¨ä»¥ä¾¿æ±‚å¾—**åˆ°è¾¾æœ€ç»ˆç›®çš„ç«¯çš„è·¯ç”±**

> å½“å‰Internetä¸­ï¼Œè¿™ç§æŠ€æœ¯ä¸å¯èƒ½åº”ç”¨ã€‚

## è½¬å‘æŠ€æœ¯

> ç®€åŒ–è·¯ç”±è¡¨çš„æŠ€æœ¯

+ ä¸‹ä¸€è·³æ–¹æ³•ä¸è·¯ç”±æ–¹æ³•
+ ç‰¹å®šç½‘ç»œæ–¹æ³•ä¸ç‰¹å®šä¸»æœºæ–¹æ³•
+ é»˜è®¤æ–¹æ³•

## ä¸‹ä¸€è·³æ–¹æ³•ä¸è·¯ç”±æ–¹æ³•

next-hop route method

å®Œæ•´è·¯ç”±ä¿¡æ¯vsåªä¿å­˜ä¸‹ä¸€è·³

![image-20211228094014872](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/6c658ffc351b6152d20cfcb58d7e9a71-image-20211228094014872-f30e9d.png)

## ç‰¹å®šç½‘ç»œæ–¹æ³•ä¸ç‰¹å®šä¸»æœºæ–¹æ³•

**Network-specific method**

ä»…ç”¨ä¸€ä¸ªé¡¹ç›®æ¥å®šä¹‰è¿™ä¸ªç›®çš„ç½‘ç»œæœ¬èº«çš„åœ°å€ï¼Œå°†åœ¨åŒä¸€ç½‘ç»œä¸Šçš„æ‰€æœ‰ä¸»æœºçœ‹åšæ˜¯ä¸€ä¸ªé¡¹ç›®ã€‚

![image-20211228094740055](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/46cc05b6f3780b6f46e854e2199fde63-image-20211228094740055-f7af69.png)

æ£€æŸ¥è·¯ç”±æˆ–æä¾›å®‰å…¨æªæ–½ç­‰ç›®çš„

## é»˜è®¤æ–¹æ³•

**default method**

ä»…ç”¨ä¸€ä¸ªç§°ä¸ºé»˜è®¤çš„é¡¹ç›®ï¼ˆé€šå¸¸0.0.0.0ï¼‰

![image-20211228095044571](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/1d8a34894cbb7ea5c36ec5f4fa6a8d33-image-20211228095044571-898412.png)

## è½¬å‘è¿‡ç¨‹

å‡å®šä¸»æœºå’Œè·¯ç”±å™¨ç”¨æ— ç±»å¯»å€ã€‚

> åˆ†ç±»å¯»å€å¯ä»¥è®¤ä¸ºæ˜¯æ— ç±»å¯»å€çš„ä¸€ä¸ªç‰¹æ®Šæƒ…å†µ

è·¯ç”±è¡¨å¯¹æ¶‰åŠåˆ°çš„æ¯ä¸€ä¸ªåœ°å€å—éƒ½éœ€è¦æœ‰**ä¸€è¡Œä¿¡æ¯**

+ æ©ç (\n)
+ ç½‘ç»œåœ°å€
+ ä¸‹ä¸€è·³åœ°å€
+ æ¥å£

![image-20211228095517768](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/e4252690140513326f9b360ee7f3570e-image-20211228095517768-e5406b.png)

![image-20211228095731661](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/c68f3c0d4a1556bc96b7f65566f448c4-image-20211228095731661-f1d69e.png)

| æ©ç ï¼ˆ/nï¼‰ | ç½‘ç»œåœ°å€      | ä¸‹ä¸€è·³åœ°å€    | æ¥å£ |
| ---------- | ------------- | ------------- | ---- |
| /26        | 180.70.65.192 | --            | m2   |
| /25        | 180.70.65.128 | --            | m0   |
| /24        | 201.4.22.0    | --            | m3   |
| /22        | 201.4.16.0    | --            | m1   |
| å…¶ä»–       | 0.0.0.0       | 180.70.65.200 | m2   |

![image-20211228100551214](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/a8cf89c36661fdf26576ae690ac0d495-image-20211228100551214-04ffa0.png)

## æœ€é•¿æ©ç åŒ¹é…

+ ä½¿ç”¨CIDRæ—¶ï¼Œè·¯ç”±è¡¨ä¸­å¯èƒ½ä¼šæœ‰ä¸æ­¢ä¸€ä¸ªåŒ¹é…ç»“æœ
+ åº”å½“ä»åŒ¹é…ç»“æœä¸­é€‰æ‹©å…·æœ‰æœ€é•¿æ©ç çš„è·¯ç”±
+ æ©ç è¶Šé•¿ï¼Œå…¶**åœ°å€å—å°±è¶Šå°**ï¼Œå› è€Œè·¯ç”±æœºå°±è¶Šå…·ä½“

### ğŸŒ°

![image-20211228101340953](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/fb4f9abc177fc8d93a1e019f3a8d0c39-image-20211228101340953-79abf7.png)

![image-20211228102348760](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/9bb2a7902bc6e9955186943b99008b77-image-20211228102348760-631783.png)

![image-20211228102337895](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/9618c0fdaf7c1d6e5bfa892e0b4b4d25-image-20211228102337895-6450bf.png)

## è·¯ç”±ï¼ˆè·¯ç”±çš„å®é™…å®ç°ï¼‰

ä»æŸä¸€ç½‘è·¯è®¾å¤‡è§¦å‘å»å¾€æŸä¸ªç›®çš„åœ°æ‰€ç»è¿‡çš„è·¯å¾„ã€‚

è·¯ç”±å™¨é€šè¿‡æŸ¥è¯¢è·¯ç”±è¡¨ä¸ºæ•°æ®æŠ¥é€‰æ‹©è½¬å‘è·¯å¾„ã€‚è·¯ç”±è¡¨åªå­˜åœ¨äºç»ˆç«¯è®¡ç®—æœºã€è·¯ç”±å™¨åŠä¸‰å±‚äº¤æ¢æœºä¸­ï¼ŒäºŒå±‚äº¤æ¢æœºä¸­ä¸å­˜åœ¨è·¯ç”±è¡¨

+ ç›´è¿è·¯ç”±ï¼š**è®¾å¤‡è‡ªåŠ¨å‘ç°çš„è·¯ç”±ä¿¡æ¯**ï¼Œè·¯ç”±å™¨å¯è‡ªåŠ¨å‘ç°ä¸è‡ªå·±æ¥å£ç›´æ¥ç›¸è¿çš„ç½‘ç»œçš„è·¯ç”±
+ é™æ€è·¯ç”±ï¼šäººå·¥è¾“å…¥ï¼Œæ— æ³•è‡ªåŠ¨æ›´æ–°
+ åŠ¨æ€è·¯ç”±ï¼šå¯å‘¨æœŸæ›´æ–°ï¼Œé€‚åˆå¤§å‹ç½‘ç»œ

![image-20211228103508629](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/4421db29682170b446cf5ffdfaa35622-image-20211228103508629-60f92f.png)

## ç›´è¿è·¯ç”±å’Œé™æ€è·¯ç”±

![image-20211228103849252](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/c77767e5b275d3ac654a2536630e0809-image-20211228103849252-3b5ff4.png)



é™æ€è·¯ç”±åªé€‚åˆå°å‹ç½‘ç»œ

ç›´è¿è·¯ç”±ï¼šå¯ä»¥å‘¨æœŸæ€§æ›´æ–°

## åŠ¨æ€è·¯ç”±ä¼˜å…ˆçº§

RIPå’ŒOSPFåè®®

## è·¯ç”±æ±‡æ€»

![image-20211228105020781](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/044a05af2cfd4ae05fdc108da9eec52e-image-20211228105020781-5880d5.png)

å›¾ä¸­å¯ä»¥çœ‹å‡º è·¯ç”±è¡¨é¡¹å¾ˆå¤šã€‚å¯ä»¥è¿›è¡Œç®€åŒ–

![image-20211228105106658](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/bc3f1324da13a67cccf07529145487a6-image-20211228105106658-06f2a0.png)

## åœ°å€èšåˆ

![image-20211228105208512](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/7b2eeacfcf5af86eb9ec3a1408e8597b-image-20211228105208512-68ecdd.png)

## é»˜è®¤è·¯ç”±

![image-20211228105253862](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/2b9cb6d69833cf4b29500c566b1735b9-image-20211228105253862-71f683.png)

![image-20211228110458096](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/64a677c7a2b3db1eddc07dcc3ec8f4d5-image-20211228110458096-2ce99f.png)

## å•æ’­è·¯ç”±é€‰æ‹©åè®®

+ è·¯ç”±è¡¨å¯ä»¥æ˜¯ *é™æ€æˆ–åŠ¨æ€çš„* 
  + é™æ€ï¼šäººå·¥è¾“å…¥
  + åŠ¨æ€è·¯ç”±è¡¨ï¼šäº’è”ç½‘ä¸­æŸå¤„ **å‘ç”Ÿå˜åŒ–**å°±è‡ªåŠ¨è¿›è¡Œæ›´æ–°
+ è·¯ç”±é€‰æ‹©åè®®æ˜¯ä¸€äº›è§„åˆ™æˆ–è¿‡ç¨‹çš„ç»„åˆï¼Œä½¿å¾—
  + äº’è”ç½‘ä¸­çš„ **å„è·¯ç”±å™¨** èƒ½å¤Ÿå½¼æ­¤äº’ç›¸é€šçŸ¥ **è¿™äº›å˜åŒ–**



- é‡ç‚¹
  - ä¼˜åŒ–åŸåˆ™
  - åŸŸå†…éƒ¨å’ŒåŸŸé—´è·¯ç”±é€‰æ‹©
  - è·ç¦»å‘é‡è·¯ç”±é€‰æ‹©å’ŒRIP
  - é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©å’ŒOSPF
  - è·¯å¾„å‘é‡è·¯ç”±é€‰æ‹©å’ŒBGP



## åŠ¨æ€è·¯ç”±åè®®çš„åŠŸèƒ½

+ çŸ¥é“æœ‰å“ªäº›é‚»å±…è·¯ç”±å™¨
+ èƒ½å¤Ÿå­¦ä¹ åˆ°ç½‘ç»œä¸­æœ‰å“ªäº›ç½‘æ®µ
+ èƒ½å¤Ÿå­¦ä¹ åˆ°è‡³æŸä¸ªç½‘æ®µçš„æ‰€æœ‰è·¯å¾„
+ èƒ½å¤Ÿä»ä¼—å¤šçš„è·¯å¾„ä¸­é€‰æ‹©æœ€ä½³çš„è·¯å¾„
+ èƒ½å¤Ÿç»´æŠ¤å’Œæ›´æ–°è·¯ç”±åè®®

## ä¼˜åŒ–åŸåˆ™

+ è·¯ç”±å™¨**å°†åˆ†ç»„è½¬å‘åˆ°å“ªä¸ª**ä¸**<u>å…¶ç›¸è¿çš„ç½‘ç»œ</u>**ï¼Œå–å†³äºå“ªä¸ªå¯ç”¨è·¯å¾„æ˜¯æœ€ä½³è·¯å¾„
+ åº¦é‡metricï¼šç»™ç½‘ç»œæŒ‡å®š **<u>ä»£ä»·</u>**
  + RIPè·¯ç”±ä¿¡æ¯é€‰æ‹©åè®®ï¼ˆè·³æ•°ï¼‰
  + å¼€æ”¾æœ€çŸ­è·¯å¾„æœ‰é™åè®®OSPF
+ å¯è¾¾æ€§
  + è¾¹ç•Œç½‘å…³åè®®

## è‡ªæ²»ç³»ç»Ÿautonomous system

æ˜¯ä¸€ä¸ªå•ä¸€çš„ç®¡ç†ç»“æ„ç®¡è¾–ä¸‹çš„ä¸€ç»„ç½‘ç»œå’Œè·¯ç”±å™¨ã€‚

äº’è”ç½‘å¾ˆå¤§ï¼Œä»¥è‡´äºä»…ä½¿ç”¨ä¸€ä¸ªè·¯ç”±é€‰æ‹©åè®®æ— æ³•å¤„ç†æ›´æ–°æ‰€æœ‰è·¯ç”±å™¨è·¯ç”±è¡¨ä»»åŠ¡ã€‚

![image-20211228113753376](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/1591773dd1d918e62489d6446bf7f7b8-image-20211228113753376-8a15cd.png)



+ åœ¨è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€‰æ‹©ç§°ä¸º **åŸŸå†…è·¯ç”±é€‰æ‹©interadomain routing**
  + ä¸€ç§æˆ–å¤šç§

+ è‡ªæ²»ç³»ç»Ÿä¹‹é—´çš„è·¯ç”±é€‰æ‹©ç§°ä¸º **åŸŸé—´è·¯ç”±é€‰æ‹©interdomain routing **
  + åªèƒ½ä¸€ç§

![image-20211228114518268](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/b167b679ed62c85e0e928809a19d4ef6-image-20211228114518268-5e43fe.png)

![image-20211228114524779](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/0528e504b5ccee4c56707bfa7f7a0a55-image-20211228114524779-847320.png)

+ Routing Information Protocol
+ Open Shortest Path First
+ Border Gate Protocol

## Routing Information Protocolè·ç¦»å‘é‡è·¯ç”±é€‰æ‹©

ä»»ä½•ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´è·¯ç”±æœ€ä½ä»£ä»·æ˜¯æœ€å°è·ç¦»çš„è·¯å¾„

![image-20211228115736339](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/32a8e5bab178c218374acc9ad4074af5-image-20211228115736339-b517d8.png)

### åˆå§‹åŒ–æ–¹æ³•

å›¾ä¸­çš„è¡¨æ˜¯ç¨³å®šçš„ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½çŸ¥é“å¦‚ä½•åˆ°è¾¾å…¶ä½™ä»»ä¸€èŠ‚ç‚¹æœºå™¨ä»£ä»·ã€‚

**å®é™…ä¸ä¸€å®šå¦‚æ­¤**

+ æ¯ä¸€ä¸ªèŠ‚ç‚¹åªçŸ¥é“**é‚»ç«™ï¼ˆimmediate neighborï¼‰**çš„è·ç¦»ã€‚
+ åˆå§‹åŒ–æ—¶ï¼Œä¸æ˜¯é‚»ç«™çš„è·ç¦»æ ‡ä¸º**æ— ç©·å¤§**

![image-20211228143618599](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/0e79276b05f01d54cfa9314f6e909559-image-20211228143618599-d66e9d.png)

### å…±äº«è·¯ç”±ä¿¡æ¯

> åœ¨è·ç¦»å‘é‡è·¯ç”±é€‰æ‹©ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹ä¸å®ƒçš„é‚»ç«™å‘¨æœŸæ€§åœ°æˆ–æœ‰å˜åŒ–æ—¶å…±äº«å®ƒçš„è·¯ç”±è¡¨

### æ›´æ–°ç®—æ³•

å½“ä¸€ä¸ªèŠ‚ç‚¹ä»å®ƒçš„é‚»ç«™æ¥æ”¶ç¬¬äºŒåˆ—çš„è¡¨æ—¶ï¼Œå®ƒéœ€è¦æ›´æ–°å®ƒçš„è·¯ç”±è¡¨ã€‚

1. æ¥æ”¶èŠ‚ç‚¹åœ¨è¡¨çš„ç¬¬äºŒåˆ—ä¸­çš„æ¯ä¸€ä¸ªå€¼**â•ä¸Šå®ƒä¸å‘é€èŠ‚ç‚¹ä¹‹é—´ä»£ä»·çš„å€¼**ï¼Œ
2. å¦‚æœæ¥å—èŠ‚ç‚¹**ä½¿ç”¨æ¥è‡ªä»»ä¸€è¡Œçš„ä¿¡æ¯**ï¼Œæ¥æ”¶èŠ‚ç‚¹éœ€è¦æŠŠå‘é€èŠ‚ç‚¹å**åŠ å…¥ä½œä¸ºç¬¬ä¸‰åˆ—**
3. æ¥æ”¶èŠ‚ç‚¹å°†ä¿®æ”¹è¿‡çš„æ¥æ”¶åˆ°çš„è¡¨ä¸å®ƒçš„æ—§è¡¨é€è¡Œæ¯”è¾ƒ<img src="https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/ef8b80b4aeb383ae9d837de5e75dec64-ef8b80b4aeb383ae9d837de5e75dec64-image-20211228145340120-5dcad5-db3ab7.png" alt="image-20211228145340120" style="zoom:100%;" />
   1. ä¸‹ä¸€è·³ä¸åŒï¼Œå–ä»£ä»·æœ€å°çš„è¡Œ
   2. ä¸‹ä¸€è·³ç›¸åŒï¼Œé€‰å–æ–°è¡Œï¼šå› ä¸ºæœ‰å¯èƒ½æ˜¯èŠ‚ç‚¹æ›´æ–°äº†ï¼Œæ—§çš„è·¯å¾„å·²ç»è¡Œä¸é€š

**éœ€è¦å¼ºè°ƒ**

1. ç¬¬ä¸€ï¼Œæ•°+æ— ç©·ä¸ºæ— ç©·
2. ç¬¬äºŒï¼Œä¿®æ”¹è¿‡çš„è¡¨è¯´æ˜äº†å¦‚ä½•ä»èŠ‚ç‚¹Aç»è¿‡èŠ‚ç‚¹Cåˆ°è¾¾èŠ‚ç‚¹A

![](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/4da005489c0c7ab1ecdb988ce66b6004-image-20211228151838974-c88407.png)

### ä½•æ—¶å…±äº«

+ å‘¨æœŸæ›´æ–°ï¼š30sä¸€æ¬¡
+ è§¦å‘æ›´æ–°ï¼šèŠ‚ç‚¹åœ¨è·¯ç”±è¡¨å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå‘å®ƒçš„é‚»ç«™å‘é€å®ƒçš„äºŒåˆ—è·¯ç”±è¡¨
  + èŠ‚ç‚¹æ¥æ”¶åˆ°é‚»ç«™çš„è¡¨
  + èŠ‚ç‚¹æ£€æµ‹åˆ°é‚»ç«™é“¾è·¯æœ‰æ•…éšœ

### ä¸¤ä¸ªèŠ‚ç‚¹å¾ªç¯ä¸ç¨³å®šæ€§

![image-20211228155439302](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/a4b0a55e191311753fab17413474b4eb-image-20211228155439302-4523be.png)

![image-20211228155738865](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/1f9075ee43cab82b00cf4e6b99d5bb3d-image-20211228155738865-47f7a5.png)

#### ä¸‰ç§è§£å†³æ–¹æ³•

1. å®šä¹‰æ— ç©·å¤§ï¼šæ¯”å¦‚100ï¼ŒRIPä¸­æ˜¯16

2. åˆ†å‰²èŒƒå›´split horizonï¼šå‘é€è¡¨çš„ä¸€éƒ¨åˆ†ï¼Œå‘é€è·¯ç”±è¡¨ä¹‹å‰ï¼Œå…ˆåˆ é™¤è‡ªå·±è·¯ç”±è¡¨çš„æœ€åä¸€è¡Œï¼Œç¬¬ä¸€æ¬¡æ›´æ–°åï¼Œç³»ç»Ÿç¨³å®š

3. æ¯’æ€§é€†è½¬posion reverseï¼š

   ![image-20211228160427637](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/b9bf5edbc274b160a614a23279aaa17b-image-20211228160427637-54ba6f.png)

### ä¸‰ä¸ªèŠ‚ç‚¹ä¸ç¨³å®šæ€§

äºŒèŠ‚ç‚¹å¯ä»¥ç”¨ **åˆ†å‰²ç­–ç•¥â•æ¯’æ€§é€†è½¬**ç»“åˆé¿å…ï¼Œ

![image-20211228160713988](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/4153bd710b44d786e35ec949293b287b-image-20211228160713988-179af2.png)

## RIPè·¯ç”±é€‰æ‹©ä¿¡æ¯åè®®

Routing Information Protocol

è‡ªæ²»ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨çš„åŸŸå†…è·¯ç”±é€‰æ‹©åè®®ã€‚åŸºäºè·ç¦»å‘é‡è·¯ç”±é€‰æ‹©çš„åè®®

1. ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿä¸­ï¼ŒåŒ…æ‹¬è·¯ç”±å™¨å’Œç½‘ç»œï¼ˆé“¾è·¯ï¼‰ï¼Œè·¯ç”±å™¨æœ‰è·¯ç”±è¡¨ï¼Œç½‘ç»œæ²¡æœ‰è·¯ç”±è¡¨
2. è·¯ç”±è¡¨ä¸­çš„ç›®çš„ç«¯è¿™ä¸€åˆ—æ˜¯ **ç½‘ç»œ** ï¼Œè¿™è¡¨ç¤ºå®ƒçš„ç¬¬ä¸€åˆ—å®šä¹‰äº†**ç›®çš„ç½‘ç»œåœ°å€**
3. RIPæ‰€ç”¨çš„åº¦é‡æ˜¯è·³æ•°ï¼ˆhop countï¼Œ åˆ°è¾¾ç›®çš„ç«¯çš„é“¾è·¯ä¸ªæ•°ï¼‰
4. 16å®šä¹‰ä¸ºæ— ç©·å¤§
   1. åœ¨ä»»ä½•è‡ªæ²»ç³»ç»Ÿä¸­ï¼Œä»»ä½•è·¯å¾„ä¸èƒ½å¤§äº15
5. ä¸‹ä¸€èŠ‚ç‚¹è¿™ä¸€åˆ—å®šä¹‰ä¸ºç›®çš„è·¯ç”±å™¨åœ°å€

### ç‰¹ç‚¹

1. è·ç¦»æ˜¯è·³æ•°
2. è·³æ•°è¶Šå°‘è·¯å¾„è¶Šå¥½
3. æœ€å¤š15ï¼Œé€‚ç”¨äºå°å‹äº’è”ç½‘
4. ![image-20211228161614629](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/31e4d281d360cd71a0c9995d469775de-image-20211228161614629-e6b364.png)

### ä¼˜ç¼ºç‚¹

![image-20211228161630613](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/24e5556a478549b1906b0aa2e28aab07-image-20211228161630613-965884.png)

### ç®—æ³•å’Œä¸Šé¢çš„ä¸€è‡´ï¼ˆé™¤äº†æ— ç©·å¤§çš„å®šä¹‰ï¼‰

![image-20211228162421883](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/a7c0e0f5f02f7f0381519662608c0636-image-20211228162421883-f0dcf2.png)

![image-20211228162510824](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/db4f9614dfcc1c3f5f0c0c5216b66d9b-image-20211228162510824-2ff160.png)

## é“¾è·¯çŠ¶æ€è·¯ç”±é€‰æ‹©Link state routing

é“¾è·¯çŠ¶æ€

+ ç±»å‹
+ çŠ¶æ€
+ ä»£ä»·

![image-20211228163541693](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/620c3efc3b742b6e45eda3f05add38e4-image-20211228163541693-5d2bf7.png)

![image-20211228163744308](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/aea84577638b496da64f6c301bdc22cd-image-20211228163744308-13cd0e.png)

### å»ºç«‹è·¯ç”±è¡¨

1. æŒ‰**æ¯ä¸ªèŠ‚ç‚¹**å»ºç«‹LSPï¼ˆé“¾è·¯çŠ¶æ€åˆ†ç»„ï¼‰
2. æ´ªæ³›æ³•Floodingï¼šå‘**å…¶ä»–æ‰€æœ‰è·¯ç”±å™¨**æ‰©æ•£LSP
3. ä¸ºæ¯ä¸ªèŠ‚ç‚¹æ„æˆä¸€ä¸ªæœ€çŸ­è·¯å¾„æ ‘
4. åŸºäºæœ€çŸ­è·¯å¾„æ ‘è®¡ç®—è·¯ç”±è¡¨

### ç”ŸæˆLSP

+ LSPæºå¸¦å¤§é‡ä¿¡æ¯ï¼ŒèŠ‚ç‚¹è¡¨ç¤ºã€é“¾è·¯æ¸…å•ã€åºåˆ—å·ã€å¯¿å‘½

+ ç”ŸæˆLSPçš„æƒ…å†µ

  + åŒºåŸŸçš„æ‹“æ‰‘å‘ç”Ÿå˜åŒ–

  + å‘¨æœŸæ€§äº§ç”Ÿ60mins~2h

    + > å‘¨æœŸè¾ƒé•¿ä¿è¯ä¸ä¼šäº§ç”Ÿå¤ªå¤šé€šä¿¡é‡

### æ´ªæ³›æ³•Flooding

+ åˆ›å»ºèŠ‚ç‚¹çš„LSPï¼Œä»æ¯ä¸ªæ¥å£å‘é€LSPå‰¯æœ¬
+ æ”¶åˆ°çš„LSPçš„æ¯ä¸ªèŠ‚ç‚¹ä¸å·²æœ‰çš„å‰¯æœ¬æ¯”è¾ƒ
  + ä¸¢å¼ƒæ—§çš„ï¼Œä¿ç•™æ–°çš„
  + èŠ‚ç‚¹é€šè¿‡æ¯ä¸ªæ¥å£ï¼ˆæ¥å£å‰¯æœ¬çš„æ¥å£é™¤å¤–ï¼‰ï¼Œå†æ¬¡è½¬å‘å‰¯æœ¬

> é€šä¿¡é‡å¾ˆå¤§

### æœ€çŸ­è·¯å¾„æ ‘çš„ç‹—å±‚

Dijkstraç®—æ³•

## OSPF

åŸºäºé“¾è·¯çŠ¶æ€çš„

Open Shortest Path First Protocol

### åŒºåŸŸArea

åŒ…å«åœ¨è‡ªæ²»ç³»ç»Ÿä¸­çš„ä¸€äº›ç½‘ç»œã€ä¸»æœºå’Œè·¯ç”±å™¨çš„é›†åˆï¼›

+ ä¸€ä¸ªè‡ªæ²»ç³»ç»Ÿå¯ä»¥åˆ’åˆ†ä¸ºå¤šä¸ªåŒºåŸŸ
+ ä¸€ä¸ªåŒºåŸŸå†…ï¼Œæ‰€æœ‰è·¯ç”±å™¨éƒ½æ˜¯ç”¨æ´ªæ³›æ³•ä¼ é€’è·¯ç”±é€‰æ‹©ä¿¡æ¯
+ åœ¨ä¸€ä¸ªåŒºåŸŸçš„è¾¹ç•Œâ€”â€”**åŒºåŸŸè¾¹ç•Œè·¯ç”±å™¨area border router**å°†æœ¬åŒºåŸŸä¿¡æ¯æ¦‚æ‹¬èµ·æ¥å‘é€ç»™å…¶ä»–åŒºåŸŸ
+ **ä¸»å¹²**ï¼šæ‰€æœ‰åŒºåŸŸå¿…é¡»è¿æ¥åˆ°ä¸»å¹²
+ **ä¸»å¹²è·¯ç”±å™¨backbone router**
+ ä»åŒºåŸŸï¼šä¸»å¹²å¤–çš„å…¶ä»–åŒºåŸŸ
+ **è™šé“¾è·¯ï¼ˆvirtual linkï¼‰**ï¼š

![image-20211228165645255](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/68a12172e13dde50f24e6ce24f6b1cc3-image-20211228165645255-3ef53c.png)![image-20211228171351373](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/2843dbf1c662c0653ba1fd22e17bd42f-image-20211228171351373-8ac878.png)

### åˆ’åˆ†åŒºåŸŸçš„ä¼˜ç‚¹

1. å°†åˆ©ç”¨æ´ªæ³›æ³•äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯çš„èŒƒå›´å±€é™äºæ¯ ä¸€ä¸ªåŒºåŸŸè€Œä¸æ˜¯æ•´ä¸ªçš„è‡ªæ²»ç³»ç»Ÿï¼Œå‡å°‘äº†æ•´ä¸ªç½‘ ç»œä¸Šçš„é€šä¿¡é‡
2. åœ¨ä¸€ä¸ªåŒºåŸŸå†…éƒ¨çš„è·¯ç”±å™¨åªçŸ¥é“æœ¬åŒºåŸŸçš„å®Œæ•´ç½‘ ç»œæ‹“æ‰‘ï¼Œè€Œä¸çŸ¥é“å…¶å®ƒåŒºåŸŸçš„ç½‘ç»œæ‹“æ‰‘çš„æƒ…å†µã€‚
3. OSPF ä½¿ç”¨å±‚æ¬¡ç»“æ„çš„åŒºåŸŸåˆ’åˆ†ã€‚ä¸Šå±‚çš„åŒºåŸŸä¸º ä¸»å¹²åŒºåŸŸ 0.0.0.0ï¼Œç”¨æ¥è¿é€šå…¶å®ƒåœ¨ä¸‹å±‚çš„åŒºåŸŸã€‚

### åº¦é‡

OSPFåè®®å…è®¸ç½‘ç»œç®¡ç†å‘˜ç»™æ¯ä¸€æ¡è·¯ç”±æŒ‡å®šä¸€ä¸ªä»£ä»·ï¼Œç§°ä¸º**åº¦é‡metric**ã€‚å¯ä»¥åŸºäºæœåŠ¡ç±»å‹ï¼ˆæœ€å°å»¶è¿Ÿï¼Œæœ€å¤§ååé‡ç­‰ï¼‰ã€‚

### é“¾è·¯ç±»å‹

![image-20211228171545913](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/476ef5629147d953785a48c997bfcd2f-image-20211228171545913-c5b5b0.png)

### ç‰¹ç‚¹

1. ä»£ä»·çµæ´»ï¼Œä¸åŒæœåŠ¡ç±»å‹å¯ä»¥è®¡ç®—å‡ºä¸åŒçš„è·¯ç”±
2. å¤šè·¯å¾„é—´çš„è´Ÿè½½å¹³è¡¡ï¼Œå¦‚æœé€šä¸€ä¸ªç›®çš„ç½‘ç»œæœ‰å¤šæ¡ç›¸åŒä»£ä»·è·¯å¾„ï¼Œå¯ä»¥å°†é€šä¿¡é‡åˆ†é…ç»™è¿™å‡ æ¡è·¯å¾„
3. ä¿è¯ä»…åœ¨å¯ä¿¡èµ–çš„è·¯ç”±å™¨ä¹‹é—´äº¤æ¢é“¾è·¯çŠ¶æ€ä¿¡æ¯ï¼Œé‰´åˆ«åŠŸèƒ½
4. ç”±äºä¸€ä¸ªè·¯ç”±å™¨çš„é“¾è·¯çŠ¶æ€åªè¿™å‡ åˆ°ä¸ç›¸é‚»è·¯ç”±å™¨çš„è”é€šçŠ¶æ€ï¼Œä¸æ•´ä¸ªäº’è”ç½‘çš„è§„æ¨¡æ— ç›´æ¥å…³ç³»ã€‚å› æ­¤**ï¼Œå½“äº’è”ç½‘è§„æ¨¡å¾ˆå¤§æ—¶ï¼ŒOSPFåè®®è¿œæ¯”RIPè¦å¥½**
5. æ”¯æŒå¯å˜é•¿åº¦çš„å­ç½‘åˆ’åˆ†å’Œäº”åˆ†ç±»ç¼–å€CIDR

## è·¯å¾„å‘é‡è·¯ç”±é€‰æ‹©åè®®ï¼ˆè€ƒç‚¹æœªæ ‡ï¼‰

![image-20211228172255376](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/db1e651299f3c4fea272ee2f5e6ca84b-image-20211228172255376-77675b.png)

> åŸºå‡†ï¼šå¯è¾¾æ€§

### åˆå§‹åŒ–

æ¯ä¸ªè‡ªæ²»ç³»ç»Ÿæœ‰ä¸€ä¸ªä»£è¨€èŠ‚ç‚¹ï¼Œæ¯ä¸ªä»£è¨€èŠ‚ç‚¹ä»…èƒ½çŸ¥é“å®ƒçš„è‡ªæ²»ç³»ç»Ÿå†…éƒ¨èŠ‚ç‚¹çš„**å¯è¾¾æ€§**ã€‚

![image-20211228172436145](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/2b0e3db6c7ccb48408b1f07f9e36d6a9-image-20211228172436145-5a994c.png)

### å…±äº«

é‚»ç«™å…±äº«

### æ›´æ–°

![image-20211228172612275](/Users/xinwuyun/Library/Application Support/typora-user-images/image-20211228172612275.png)

### ä¼˜ç‚¹

![image-20211228172759944](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/dc72a4bed83b345d57a632ef19582420-image-20211228172759944-144246.png)

------

-----

----

BGP

å¤šæ’­è·¯ç”±é€‰æ‹©

![image-20211228173038483](https://cdn.jsdelivr.net/gh/xinwuyun/pictures@main/2021/12/28/6c17b245524a53ef34966b8e538eb87d-image-20211228173038483-534d2f.png)

